---
title: å®éªŒå…«
date: 2022/12/09/ 22:05:13
discription:
---

- [å®éªŒå…« åˆ†æ”¯é™ç•Œæ³•â€”â€”è£…è½½é—®é¢˜](#å®éªŒå…«-åˆ†æ”¯é™ç•Œæ³•è£…è½½é—®é¢˜)
  - [ä¸€ã€å®éªŒç›®çš„](#ä¸€å®éªŒç›®çš„)
  - [äºŒã€å®éªŒå†…å®¹](#äºŒå®éªŒå†…å®¹)
    - [1. é—®é¢˜æè¿°](#1-é—®é¢˜æè¿°)
    - [2. è¦æ±‚](#2-è¦æ±‚)
  - [ä¸‰ã€å®éªŒæ€»ç»“ï¼ˆå†™å‡ºæœ¬æ¬¡å®éªŒçš„æ”¶è·ï¼Œé‡åˆ°çš„é—®é¢˜ç­‰ï¼‰](#ä¸‰å®éªŒæ€»ç»“å†™å‡ºæœ¬æ¬¡å®éªŒçš„æ”¶è·é‡åˆ°çš„é—®é¢˜ç­‰)
    - [ä»£ç ](#ä»£ç )

## å®éªŒå…« åˆ†æ”¯é™ç•Œæ³•â€”â€”è£…è½½é—®é¢˜

### ä¸€ã€å®éªŒç›®çš„

1ã€é€šè¿‡åˆ†æ”¯é™ç•Œæ³•çš„ç¤ºä¾‹ç¨‹åºç†è§£å›æº¯æ³•çš„åŸºæœ¬æ€æƒ³

2ã€è¿ç”¨åˆ†æ”¯é™ç•Œæ³•è§£å†³å®é™…é—®é¢˜è¿›ä¸€æ­¥åŠ æ·±å¯¹åˆ†æ”¯é™ç•Œæ³•çš„ç†è§£å’Œè¿ç”¨

### äºŒã€å®éªŒå†…å®¹

ï¼ˆä¸€ï¼‰è£…è½½é—®é¢˜

#### 1. é—®é¢˜æè¿°

ç”¨å›æº¯æ³•ç¼–å†™ä¸€ä¸ªé€’å½’ç¨‹åºè§£å†³å¦‚ä¸‹è£…è½½é—®é¢˜ï¼š

æœ‰ n ä¸ªé›†è£…ç®±è¦è£…ä¸Š 2 è‰˜è½½é‡åˆ†åˆ«ä¸º c1 å’Œ c2 çš„è½®èˆ¹ï¼Œå…¶ä¸­é›†è£…ç®± i çš„é‡é‡ä¸º wiï¼ˆ1â‰¤ i â‰¤ nï¼‰ï¼Œä¸” âˆ‘ ğ‘¤ğ‘– â‰¤ ğ‘1 + ğ‘2 ğ‘› ğ‘–=1 ã€‚

é—®æ˜¯å¦æœ‰ä¸€ä¸ªåˆç† çš„è£…è½½æ–¹æ¡ˆå¯ä»¥å°†è¿™ n ä¸ªé›†è£…ç®±è£…ä¸Šè¿™ 2 è‰˜è½®èˆ¹ï¼Ÿå¦‚æœæœ‰ï¼Œè¯·ç»™å‡ºè£…è½½æ–¹æ¡ˆã€‚

ä¸¾ä¾‹ï¼šå½“`n=3`ï¼Œ`c1 = c2 = 50`ï¼Œä¸” `w = [10,40,40]` æ—¶ï¼Œå¯ä»¥å°†é›†è£…ç®± 1 å’Œ 2 è£…åˆ°ç¬¬ä¸€è‰˜è½®èˆ¹ä¸Šï¼Œ é›†è£…ç®± 3 è£…åˆ°ç¬¬äºŒè‰˜è½®èˆ¹ä¸Šï¼›å¦‚æœ `w=[20,40,40]` æ—¶ï¼Œæ— æ³•å°†è¿™ 3 ä¸ªé›†è£…ç®±éƒ½è£…ä¸Šè½®èˆ¹ã€‚

> æ³¨æ„ï¼šç”¨é˜Ÿåˆ—å¼åˆ†æ”¯é™ç•Œæ³•å’Œä¼˜å…ˆé˜Ÿåˆ—å¼åˆ†æ”¯é™ç•Œæ³•ä¸¤ç§æ–¹æ³•åˆ†åˆ«å®ç°ã€‚

è¾“å…¥æ ¼å¼

`è¾“å…¥çš„ç¬¬ä¸€è¡Œæ•´æ•°cï¼Œç¬¬ä¸€è‰˜è½®èˆ¹è½½é‡é‡ã€‚ ç¬¬äºŒè¡Œæ˜¯é›†è£…ç®±ä¸ªæ•° ç¬¬ä¸‰è¡Œä¸ºæ¯ä¸ªé›†è£…ç®±çš„é‡é‡`

è¾“å‡ºæ ¼å¼

`è¾“å‡º2è¡Œï¼Œç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§è½½é‡é‡ æ¥ä¸‹æ¥ä¾æ¬¡è¾“å‡ºè£…å…¥çš„é›†è£…ç®±åºå·`

æ ·ä¾‹è¾“å…¥

70 4 20 10 26 15

æ ·ä¾‹è¾“å‡º

æœ€ä¼˜è£…è½½é‡é‡ä¸ºï¼š61 æœ€ä¼˜è£…è½½é¡ºåºä¸ºï¼ˆ1 è¡¨ç¤ºè£…å…¥ï¼Œ0 è¡¨ç¤ºæœªè£…å…¥ï¼‰ï¼š 1 0 1 1

#### 2. è¦æ±‚

ï¼ˆ1ï¼‰ å†™å‡ºé—®é¢˜çš„åˆ†æè¿‡ç¨‹

ï¼ˆ2ï¼‰ å†™å‡ºç¨‹åºä»£ç 

ï¼ˆ3ï¼‰ è´´å‡ºç¨‹åºç»“æœ

### ä¸‰ã€å®éªŒæ€»ç»“ï¼ˆå†™å‡ºæœ¬æ¬¡å®éªŒçš„æ”¶è·ï¼Œé‡åˆ°çš„é—®é¢˜ç­‰ï¼‰

#### ä»£ç 

```java
import java.util.Scanner;

/*
 * è‹¥å°˜
 */

/**
 * è£…è½½é—®é¢˜
 * 
 * @author ruochen
 * @version 1.0
 */
public class Load {
  /** é›†è£…ç®±æ•° */
  static int n;
  /** é›†è£…ç®±é‡é‡æ•°ç»„ */
  static int[] w;
  /** ç¬¬ä¸€è‰˜è½®èˆ¹çš„è½½é‡é‡ */
  static int c1;
  /** ç¬¬äºŒè‰˜è½®èˆ¹çš„è½½é‡é‡ */
  static int c2;
  /** å½“å‰è½½é‡é‡ */
  static int cw;
  /** å½“å‰æœ€ä¼˜è½½é‡é‡ */
  static int bestw;
  /** å‰©ä½™é›†è£…ç®±é‡é‡ */
  static int r;
  /** å½“å‰è§£ */
  static int[] x;
  /** å½“å‰æœ€ä¼˜è§£ */
  static int[] bestx;

  public static void main(String[] args) {
    // ä¸‹æ ‡ä»1å¼€å§‹ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªå…ƒç´ ä¸º0
    System.out.println("è¯·è¾“å…¥ç¬¬ä¸€è‰˜è½®èˆ¹çš„è½½é‡é‡");
    Scanner weight1 = new Scanner(System.in);
    int cc1 = weight1.nextInt();

    System.out.println("è¯·è¾“å…¥é›†è£…ç®±çš„ä¸ªæ•°ï¼š");
    Scanner number = new Scanner(System.in);
    // wæ˜¯é›†è£…ç®±çš„ä¸ªæ•°
    int w = number.nextInt() + 1;

    // åˆ›å»ºé›†è£…ç®±æ•°ç»„
    System.out.println("è¯·è¾“å…¥é›†è£…ç®±é‡é‡...");
    Scanner weight = new Scanner(System.in);
    int[] ww = new int[w];
    ww[0] = 0;
    for (int i = 1; i < w; i++) {
      ww[i] = weight.nextInt();
    }

    int cc2 = cc1;
    System.out.println(maxLoading(ww, cc1, cc2));
    outPut();
    weight1.close();
    weight.close();
    number.close();
  }

  /** è¿”å›ä¸è¶…è¿‡c çš„æœ€å¤§å­é›†å’Œ */
  public static int maxLoading(int[] ww, int cc1, int cc2) {
    n = ww.length - 1;
    w = ww;
    c1 = cc1;
    c2 = cc2;
    cw = 0;
    bestw = 0;
    x = new int[n + 1];
    bestx = new int[n + 1];
    r = 0;
    // r åˆå§‹å€¼ä¸ºå…¨éƒ¨é›†è£…ç®±æ€»é‡
    for (int i = 1; i <= n; i++) {
      r += w[i];
    }
    // è®¡ç®—æœ€ä¼˜è½½é‡é‡
    backTrack(1);
    return bestw;
  }

  /** å›æº¯ç®—æ³• */
  public static void backTrack(int i) {
    // æœç´¢ç¬¬ i å±‚èŠ‚ç‚¹
    if (i > n) {
      // åˆ°è¾¾å¶èŠ‚ç‚¹
      if (cw > bestw) {
        for (int j = 1; j <= n; j++) {
          bestx[j] = x[j];
        }
        bestw = cw;
      }
      return;
    }
    // æœç´¢å­æ ‘
    r -= w[i];
    if (cw + w[i] <= c1) {
      // é‡é‡ä¸è¶…è¿‡ c
      // æœç´¢å·¦å­æ ‘
      x[i] = 1;
      cw += w[i];
      backTrack(i + 1);
      // è¿˜åŸ
      x[i] = 1;
      cw -= w[i];
    }
    // åªåœ¨å³å­æ ‘è¿›è¡Œä¸Šç•Œå‡½æ•°åˆ¤æ–­æ˜¯å› ä¸ºå…¶å¯¹å·¦å­æ ‘æ— å½±å“
    // å·¦å­æ ‘æ˜¯é€‰æ‹©æ”¾ï¼Œä¸Šç•Œå‡½æ•° = cw(å½“å‰é‡é‡) + r(å‰©ä½™é‡é‡)
    if (cw + r > bestw) {
      x[i] = 0;
      // æœç´ å³å­æ ‘
      backTrack(i + 1);
    }
    r += w[i];
  }

  static void outPut() {
    int weight = 0;
    for (int i = 1; i <= n; i++) {
      if (bestx[i] == 0) {
        // ç¬¬ä¸€è‰˜è½®èˆ¹è£…å®Œåçš„å‰©ä½™é‡é‡
        weight += w[i];
      }
    }
    if (weight > c2) {
      System.out.println("ä¸èƒ½è£…å…¥ ");
    } else {
      System.out.print("è½®èˆ¹ä¸€è£…å…¥çš„è´§ç‰©ä¸º: ");
      for (int i = 1; i <= n; i++) {
        if (bestx[i] == 1) {
          System.out.print(i + " ");
        }
      }
      System.out.println();
      // Output 0 or 1
      for (int i = 1; i <= n; i++) {
        if (bestx[i] == 1) {
          System.out.print("1" + " ");
        } else {
          System.out.print("0" + " ");
        }
      }
      System.out.println();
      // System.out.print("è½®èˆ¹äºŒè£…å…¥çš„è´§ç‰©ä¸ºï¼š ");
      // for (int i = 1; i <= n; i++) {
      // if (bestx[i] != 1) {
      // System.out.print(i + " ");
      // }
      // }
      // System.out.println();
    }
  }
}
```
